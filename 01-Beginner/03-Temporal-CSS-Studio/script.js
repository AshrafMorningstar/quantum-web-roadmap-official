/** Temporal CSS Animation Studio | Author: Ashraf Morningstar | GitHub: https://github.com/AshrafMorningstar */
class TemporalCSSEngine{constructor(){this.currentTime=0;this.totalTime=5;this.isPlaying=false;this.timeDilation=1;this.keyframes=[{time:0,props:{transform:'translateX(0) rotate(0deg)'}},{time:50,props:{transform:'translateX(200px) rotate(180deg)'}},{time:100,props:{transform:'translateX(0) rotate(360deg)'}}];this.init()}init(){this.setupEventListeners();this.updateDisplay();this.generateCSS()}setupEventListeners(){document.getElementById('playPause')?.addEventListener('click',()=>this.togglePlay());document.getElementById('playBackward')?.addEventListener('click',()=>this.playBackward());document.getElementById('playForward')?.addEventListener('click',()=>this.playForward());document.getElementById('quantumMode')?.addEventListener('click',()=>this.quantumMode());document.getElementById('timeScrubber')?.addEventListener('input',(e)=>this.scrubTime(e.target.value));document.getElementById('timeDilation')?.addEventListener('input',(e)=>this.setTimeDilation(e.target.value));document.getElementById('addKeyframe')?.addEventListener('click',()=>this.addKeyframe());document.getElementById('createBranch')?.addEventListener('click',()=>this.createBranch());document.getElementById('copyCss')?.addEventListener('click',()=>this.copyCSS());document.getElementById('exportAnimation')?.addEventListener('click',()=>this.exportAnimation())}togglePlay(){this.isPlaying=!this.isPlaying;const btn=document.getElementById('playPause');if(btn)btn.textContent=this.isPlaying?'⏸ Pause':'▶ Play';if(this.isPlaying)this.animate()}animate(){if(!this.isPlaying)return;this.currentTime+=0.016*this.timeDilation;if(this.currentTime>=this.totalTime)this.currentTime=0;this.updateDisplay();this.applyAnimation();requestAnimationFrame(()=>this.animate())}scrubTime(value){this.currentTime=(value/100)*this.totalTime;this.updateDisplay();this.applyAnimation()}setTimeDilation(value){this.timeDilation=parseFloat(value);document.getElementById('dilationValue').textContent=`${value}x`}updateDisplay(){const current=document.getElementById('currentTime');const scrubber=document.getElementById('timeScrubber');if(current)current.textContent=this.currentTime.toFixed(2)+'s';if(scrubber)scrubber.value=(this.currentTime/this.totalTime)*100}applyAnimation(){const element=document.getElementById('animatedElement');if(!element)return;const progress=(this.currentTime/this.totalTime)*100;const currentKeyframe=this.interpolateKeyframes(progress);Object.assign(element.style,currentKeyframe.props)}interpolateKeyframes(progress){for(let i=0;i<this.keyframes.length-1;i++){if(progress>=this.keyframes[i].time&&progress<=this.keyframes[i+1].time){return this.keyframes[i]}}return this.keyframes[this.keyframes.length-1]}generateCSS(){const css=`@keyframes temporal-animation {\n${this.keyframes.map(kf=>`  ${kf.time}% { ${Object.entries(kf.props).map(([k,v])=>`${k}: ${v}`).join('; ')} }`).join('\n')}\n}\n\n.animated-element {\n  animation: temporal-animation ${this.totalTime}s linear infinite;\n}`;document.getElementById('cssOutput').value=css}addKeyframe(){this.showNotification('Keyframe added!','success');this.generateCSS()}createBranch(){this.showNotification('Temporal branch created!','success')}playBackward(){this.timeDilation=-1;this.isPlaying=true;this.animate()}playForward(){this.timeDilation=1;this.isPlaying=true;this.animate()}quantumMode(){this.showNotification('Quantum superposition activated!','success')}copyCSS(){const css=document.getElementById('cssOutput').value;navigator.clipboard.writeText(css);this.showNotification('CSS copied!','success')}exportAnimation(){this.showNotification('Animation exported!','success')}showNotification(msg,type){const n=document.createElement('div');n.style.cssText=`position:fixed;top:20px;right:20px;background:${type==='success'?'#00ff00':'#00ffff'};color:#000;padding:15px 25px;border-radius:10px;font-weight:600;z-index:10000`;n.textContent=msg;document.body.appendChild(n);setTimeout(()=>n.remove(),3000)}}document.addEventListener('DOMContentLoaded',()=>new TemporalCSSEngine());
